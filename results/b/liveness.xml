<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC '-//Uppaal Team//DTD Flat System 1.1//EN' 'http://www.it.uu.se/research/group/darts/uppaal/flat-1_2.dtd'>
<nta>
	<declaration>
const int BEGIN_REQ := 1;
const int END_REQ := 2;
const int BEGIN_RESP := 3;
const int END_RESP := 4;
const int TLM_OK_RESPONSE := 1;
const int TLM_BURST_ERROR_RESPONSE := 2;
const int TLM_GENERIC_ERROR_RESPONSE := 3;
clock global;
typedef struct {
	int dummy;
} myfifo_if;
myfifo_if myfifo_if_empty = {0};
broadcast chan dummybchannel;
chan dummychannel;
int dummyinteger;
broadcast chan cons_inst_thread0_sensitivechan;
broadcast chan cons_inst_thread0_timeoutevent_wait;
chan cons_inst_thread0_timeoutevent_notify;
chan cons_inst_thread0_timeoutevent_notify_imm;
int cons_inst_thread0_timeoutevent_notify_t;
chan cons_inst_thread0_fifo_read_ctrl;
int cons_inst_thread0_fifo_read_return;
chan cons_inst_thread0_consume_ctrl;
int cons_inst_thread0_consume_param_c_param;
chan cons_inst_thread0_main_method_ctrl;
int fifo_inst_buffer[3];
int fifo_inst_n := 0;
int fifo_inst_r_pos := 0;
int fifo_inst_w_pos := 0;
broadcast chan fifo_inst_w_event_wait;
chan fifo_inst_w_event_notify;
chan fifo_inst_w_event_notify_imm;
int fifo_inst_w_event_notify_t;
broadcast chan fifo_inst_r_event_wait;
chan fifo_inst_r_event_notify;
chan fifo_inst_r_event_notify_imm;
int fifo_inst_r_event_notify_t;
int prod_inst_pid := 127;
broadcast chan prod_inst_thread0_sensitivechan;
broadcast chan prod_inst_thread0_timeoutevent_wait;
chan prod_inst_thread0_timeoutevent_notify;
chan prod_inst_thread0_timeoutevent_notify_imm;
int prod_inst_thread0_timeoutevent_notify_t;
chan prod_inst_thread0_fifo_write_ctrl;
int prod_inst_thread0_fifo_write_param_c;
chan prod_inst_thread0_produce_ctrl;
int prod_inst_thread0_produce_param_c_param;
int prod_inst_thread0_produce_return;
chan prod_inst_thread0_main_method_ctrl;
broadcast chan clk_edge_wait;
chan clk_edge_notify;
chan clk_edge_notify_imm;
int clk_edge_notify_t;
int clk_period := 50;
broadcast chan clk_thread0_sensitivechan;
broadcast chan clk_thread0_timeoutevent_wait;
chan clk_thread0_timeoutevent_notify;
chan clk_thread0_timeoutevent_notify_imm;
int clk_thread0_timeoutevent_notify_t;
chan clk_thread0_run_ctrl;
chan activate;
chan deactivate;
chan updatestart;
chan updateend;
broadcast chan initdone;
broadcast chan deltadelay;
broadcast chan advancetime;
int deltacount := 0;
int readyprocs := 3;
int updaterequests := 0;
</declaration>
	<template>
		<name>InitializerTemplate</name>
		<location id="id0" x="187" y="178">
			<name x="204" y="161">Init3</name>
		</location>
		<location id="id1" x="42" y="76">
			<name x="32" y="42">Init1</name>
			<urgent/>
		</location>
		<location id="id2" x="187" y="76">
			<name x="177" y="42">Init2</name>
			<committed/>
		</location>
		<init ref="id1"/>
		<transition>
			<source ref="id2"/>
			<target ref="id0"/>
			<label kind="synchronisation" x="191" y="106">initdone!</label>
		</transition>
		<transition>
			<source ref="id1"/>
			<target ref="id2"/>
			<label kind="synchronisation" x="80" y="48">deltadelay?</label>
		</transition>
	</template>
	<template>
		<name>SCEventTemplate</name>
		<parameter>broadcast chan &amp;wait, chan &amp;notify, chan &amp;notify_imm, int &amp;notify_t</parameter>
		<declaration>clock wait_clock;
int ndelay;
</declaration>
		<location id="id3" x="-96" y="0">
			<name x="-106" y="-30">init_event</name>
		</location>
		<location id="id4" x="-96" y="120">
			<name x="-80" y="104">notify_requested</name>
			<committed/>
		</location>
		<location id="id5" x="-96" y="288">
			<name x="-208" y="280">wait_for_delta</name>
			<label kind="invariant" x="-88" y="296">wait_clock &lt;= ndelay</label>
		</location>
		<location id="id6" x="344" y="8">
			<name x="334" y="-22">notify_now</name>
			<committed/>
		</location>
		<location id="id7" x="-96" y="376">
			<name x="-144" y="384">advancing_time</name>
			<committed/>
		</location>
		<init ref="id3"/>
		<transition>
			<source ref="id3"/>
			<target ref="id4"/>
			<label kind="synchronisation" x="-224" y="24">notify?</label>
			<label kind="assignment" x="-224" y="40">ndelay = notify_t,
wait_clock = 0</label>
		</transition>
		<transition>
			<source ref="id3"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="88" y="-8">notify_imm?</label>
			<nail x="-8" y="24"/>
			<nail x="248" y="24"/>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id5"/>
			<label kind="guard" x="-246" y="144">wait_clock + notify_t &lt; ndelay</label>
			<label kind="assignment" x="-224" y="176">ndelay = notify_t,
wait_clock = 0</label>
		</transition>
		<transition>
			<source ref="id4"/>
			<target ref="id5"/>
			<label kind="guard" x="-376" y="96">wait_clock + notify_t &gt;= ndelay</label>
			<nail x="-312" y="136"/>
			<nail x="-312" y="240"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id4"/>
			<label kind="synchronisation" x="-32" y="136">notify?</label>
			<nail x="-32" y="224"/>
			<nail x="-32" y="144"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="guard" x="96" y="184">ndelay == 0</label>
			<label kind="synchronisation" x="104" y="168">deltadelay?</label>
			<nail x="200" y="208"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="guard" x="0" y="256">wait_clock == ndelay &amp;&amp; ndelay!= 0</label>
			<label kind="synchronisation" x="160" y="272">advancetime!</label>
			<nail x="256" y="288"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id7"/>
			<label kind="guard" x="-224" y="296">ndelay!= 0</label>
			<label kind="synchronisation" x="-232" y="312">advancetime?</label>
			<nail x="-136" y="336"/>
		</transition>
		<transition>
			<source ref="id5"/>
			<target ref="id6"/>
			<label kind="synchronisation" x="104" y="72">notify_imm?</label>
		</transition>
		<transition>
			<source ref="id6"/>
			<target ref="id3"/>
			<label kind="synchronisation" x="80" y="-88">wait!</label>
			<label kind="assignment" x="80" y="-72">wait_clock = 0,
ndelay = 0</label>
			<nail x="248" y="-24"/>
			<nail x="-8" y="-24"/>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id5"/>
			<label kind="guard" x="-88" y="312">wait_clock &lt; ndelay</label>
		</transition>
		<transition>
			<source ref="id7"/>
			<target ref="id6"/>
			<label kind="guard" x="72" y="344">wait_clock == ndelay</label>
			<nail x="336" y="384"/>
		</transition>
	</template>
	<template>
		<name>SCEventTemplate1</name>
		<parameter>broadcast chan &amp;wait, chan &amp;notify, chan &amp;notify_imm, int &amp;notify_t</parameter>
		<declaration>clock wait_clock1;
int ndelay1;
</declaration>
		<location id="id8" x="-96" y="0">
			<name x="-106" y="-30">init_event1</name>
		</location>
		<location id="id9" x="-96" y="120">
			<name x="-80" y="104">notify_requested1</name>
			<committed/>
		</location>
		<location id="id10" x="-96" y="288">
			<name x="-208" y="280">wait_for_delta1</name>
			<label kind="invariant" x="-88" y="296">wait_clock1 &lt;= ndelay1</label>
		</location>
		<location id="id11" x="344" y="8">
			<name x="331" y="-25">notify_now1</name>
			<committed/>
		</location>
		<location id="id12" x="-96" y="376">
			<name x="-144" y="384">advancing_time1</name>
			<committed/>
		</location>
		<init ref="id8"/>
		<transition>
			<source ref="id8"/>
			<target ref="id9"/>
			<label kind="synchronisation" x="-224" y="24">notify?</label>
			<label kind="assignment" x="-272" y="42">ndelay1 = notify_t,
 wait_clock1 = 0</label>
		</transition>
		<transition>
			<source ref="id8"/>
			<target ref="id11"/>
			<label kind="synchronisation" x="88" y="-8">notify_imm?</label>
			<nail x="-8" y="24"/>
			<nail x="248" y="24"/>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id10"/>
			<label kind="guard" x="-246" y="144">wait_clock1 + notify_t &lt; ndelay1</label>
			<label kind="assignment" x="-263" y="195">ndelay1 = notify_t,
 wait_clock1 = 0</label>
		</transition>
		<transition>
			<source ref="id9"/>
			<target ref="id10"/>
			<label kind="guard" x="-376" y="96">wait_clock1 + notify_t &gt;= ndelay1</label>
			<nail x="-312" y="136"/>
			<nail x="-312" y="240"/>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id9"/>
			<label kind="synchronisation" x="-32" y="136">notify?</label>
			<nail x="-32" y="224"/>
			<nail x="-32" y="144"/>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id11"/>
			<label kind="guard" x="96" y="184">ndelay1 == 0</label>
			<label kind="synchronisation" x="104" y="168">deltadelay?</label>
			<nail x="200" y="208"/>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id11"/>
			<label kind="guard" x="0" y="256">wait_clock1 == ndelay1 &amp;&amp; ndelay1!= 0</label>
			<label kind="synchronisation" x="160" y="272">advancetime!</label>
			<nail x="256" y="288"/>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id12"/>
			<label kind="guard" x="-224" y="296">ndelay1!= 0</label>
			<label kind="synchronisation" x="-232" y="312">advancetime?</label>
			<nail x="-136" y="336"/>
		</transition>
		<transition>
			<source ref="id10"/>
			<target ref="id11"/>
			<label kind="synchronisation" x="104" y="72">notify_imm?</label>
		</transition>
		<transition>
			<source ref="id11"/>
			<target ref="id8"/>
			<label kind="synchronisation" x="80" y="-88">wait!</label>
			<label kind="assignment" x="80" y="-72">wait_clock1 = 0,
 ndelay1 = 0</label>
			<nail x="248" y="-24"/>
			<nail x="-8" y="-24"/>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id10"/>
			<label kind="guard" x="-88" y="312">wait_clock1 &lt; ndelay1</label>
		</transition>
		<transition>
			<source ref="id12"/>
			<target ref="id11"/>
			<label kind="guard" x="72" y="344">wait_clock1 == ndelay1</label>
			<nail x="336" y="384"/>
		</transition>
	</template>
	<template>
		<name>SCEventTemplate2</name>
		<parameter>broadcast chan &amp;wait, chan &amp;notify, chan &amp;notify_imm, int &amp;notify_t</parameter>
		<declaration>clock wait_clock2;
int ndelay2;
</declaration>
		<location id="id13" x="-96" y="0">
			<name x="-106" y="-30">init_event2</name>
		</location>
		<location id="id14" x="-96" y="120">
			<name x="-80" y="104">notify_requested2</name>
			<committed/>
		</location>
		<location id="id15" x="-96" y="288">
			<name x="-208" y="280">wait_for_delta2</name>
			<label kind="invariant" x="-88" y="296">wait_clock2 &lt;= ndelay2</label>
		</location>
		<location id="id16" x="344" y="8">
			<name x="334" y="-22">notify_now2</name>
			<committed/>
		</location>
		<location id="id17" x="-96" y="376">
			<name x="-144" y="384">advancing_time2</name>
			<committed/>
		</location>
		<init ref="id13"/>
		<transition>
			<source ref="id13"/>
			<target ref="id14"/>
			<label kind="synchronisation" x="-224" y="24">notify?</label>
			<label kind="assignment" x="-224" y="40">ndelay2 = notify_t,
wait_clock2 = 0</label>
		</transition>
		<transition>
			<source ref="id13"/>
			<target ref="id16"/>
			<label kind="synchronisation" x="88" y="-8">notify_imm?</label>
			<nail x="-8" y="24"/>
			<nail x="248" y="24"/>
		</transition>
		<transition>
			<source ref="id14"/>
			<target ref="id15"/>
			<label kind="guard" x="-246" y="144">wait_clock2 + notify_t &lt; ndelay2</label>
			<label kind="assignment" x="-272" y="195">ndelay2 = notify_t,
wait_clock2 = 0</label>
		</transition>
		<transition>
			<source ref="id14"/>
			<target ref="id15"/>
			<label kind="guard" x="-376" y="96">wait_clock2 + notify_t &gt;= ndelay2</label>
			<nail x="-312" y="136"/>
			<nail x="-312" y="240"/>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id14"/>
			<label kind="synchronisation" x="-32" y="136">notify?</label>
			<nail x="-32" y="224"/>
			<nail x="-32" y="144"/>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id16"/>
			<label kind="guard" x="96" y="184">ndelay2 == 0</label>
			<label kind="synchronisation" x="104" y="168">deltadelay?</label>
			<nail x="200" y="208"/>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id16"/>
			<label kind="guard" x="0" y="256">wait_clock2 == ndelay2 &amp;&amp; ndelay2!= 0</label>
			<label kind="synchronisation" x="160" y="272">advancetime!</label>
			<nail x="256" y="288"/>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id17"/>
			<label kind="guard" x="-224" y="296">ndelay2!= 0</label>
			<label kind="synchronisation" x="-232" y="312">advancetime?</label>
			<nail x="-136" y="336"/>
		</transition>
		<transition>
			<source ref="id15"/>
			<target ref="id16"/>
			<label kind="synchronisation" x="104" y="72">notify_imm?</label>
		</transition>
		<transition>
			<source ref="id16"/>
			<target ref="id13"/>
			<label kind="synchronisation" x="80" y="-88">wait!</label>
			<label kind="assignment" x="80" y="-72">wait_clock2 = 0,
ndelay2 = 0</label>
			<nail x="248" y="-24"/>
			<nail x="-8" y="-24"/>
		</transition>
		<transition>
			<source ref="id17"/>
			<target ref="id15"/>
			<label kind="guard" x="-88" y="312">wait_clock2 &lt; ndelay2</label>
		</transition>
		<transition>
			<source ref="id17"/>
			<target ref="id16"/>
			<label kind="guard" x="72" y="344">wait_clock2 == ndelay2</label>
			<nail x="336" y="384"/>
		</transition>
	</template>
	<template>
		<name>SCEventTemplate3</name>
		<parameter>broadcast chan &amp;wait, chan &amp;notify, chan &amp;notify_imm, int &amp;notify_t</parameter>
		<declaration>clock wait_clock3;
int ndelay3;
</declaration>
		<location id="id18" x="-96" y="0">
			<name x="-106" y="-30">init_event3</name>
		</location>
		<location id="id19" x="-96" y="120">
			<name x="-80" y="104">notify_requested3</name>
			<committed/>
		</location>
		<location id="id20" x="-96" y="288">
			<name x="-208" y="280">wait_for_delta3</name>
			<label kind="invariant" x="-88" y="296">wait_clock3 &lt;= ndelay3</label>
		</location>
		<location id="id21" x="344" y="8">
			<name x="334" y="-22">notify_now3</name>
			<committed/>
		</location>
		<location id="id22" x="-96" y="376">
			<name x="-144" y="384">advancing_time3</name>
			<committed/>
		</location>
		<init ref="id18"/>
		<transition>
			<source ref="id18"/>
			<target ref="id19"/>
			<label kind="synchronisation" x="-224" y="24">notify?</label>
			<label kind="assignment" x="-224" y="40">ndelay3 = notify_t,
wait_clock3 = 0</label>
		</transition>
		<transition>
			<source ref="id18"/>
			<target ref="id21"/>
			<label kind="synchronisation" x="88" y="-8">notify_imm?</label>
			<nail x="-8" y="24"/>
			<nail x="248" y="24"/>
		</transition>
		<transition>
			<source ref="id19"/>
			<target ref="id20"/>
			<label kind="guard" x="-246" y="144">wait_clock3 + notify_t &lt; ndelay3</label>
			<label kind="assignment" x="-224" y="176">ndelay3 = notify_t,
wait_clock3 = 0</label>
		</transition>
		<transition>
			<source ref="id19"/>
			<target ref="id20"/>
			<label kind="guard" x="-376" y="96">wait_clock3 + notify_t &gt;= ndelay3</label>
			<nail x="-312" y="136"/>
			<nail x="-312" y="240"/>
		</transition>
		<transition>
			<source ref="id20"/>
			<target ref="id19"/>
			<label kind="synchronisation" x="-32" y="136">notify?</label>
			<nail x="-32" y="224"/>
			<nail x="-32" y="144"/>
		</transition>
		<transition>
			<source ref="id20"/>
			<target ref="id21"/>
			<label kind="guard" x="96" y="184">ndelay3 == 0</label>
			<label kind="synchronisation" x="104" y="168">deltadelay?</label>
			<nail x="200" y="208"/>
		</transition>
		<transition>
			<source ref="id20"/>
			<target ref="id21"/>
			<label kind="guard" x="0" y="256">wait_clock3 == ndelay3 &amp;&amp; ndelay3!= 0</label>
			<label kind="synchronisation" x="160" y="272">advancetime!</label>
			<nail x="256" y="288"/>
		</transition>
		<transition>
			<source ref="id20"/>
			<target ref="id22"/>
			<label kind="guard" x="-224" y="296">ndelay3!= 0</label>
			<label kind="synchronisation" x="-232" y="312">advancetime?</label>
			<nail x="-136" y="336"/>
		</transition>
		<transition>
			<source ref="id20"/>
			<target ref="id21"/>
			<label kind="synchronisation" x="104" y="72">notify_imm?</label>
		</transition>
		<transition>
			<source ref="id21"/>
			<target ref="id18"/>
			<label kind="synchronisation" x="80" y="-88">wait!</label>
			<label kind="assignment" x="80" y="-72">wait_clock3 = 0,
ndelay3 = 0</label>
			<nail x="248" y="-24"/>
			<nail x="-8" y="-24"/>
		</transition>
		<transition>
			<source ref="id22"/>
			<target ref="id20"/>
			<label kind="guard" x="-88" y="312">wait_clock3 &lt; ndelay3</label>
		</transition>
		<transition>
			<source ref="id22"/>
			<target ref="id21"/>
			<label kind="guard" x="68" y="340">wait_clock3 == ndelay3</label>
			<nail x="336" y="384"/>
		</transition>
	</template>
	<template>
		<name>SCEventTemplate4</name>
		<parameter>broadcast chan &amp;wait, chan &amp;notify, chan &amp;notify_imm, int &amp;notify_t</parameter>
		<declaration>clock wait_clock4;
int ndelay4;
</declaration>
		<location id="id23" x="-96" y="0">
			<name x="-106" y="-30">init_event4</name>
		</location>
		<location id="id24" x="-96" y="120">
			<name x="-80" y="104">notify_requested4</name>
			<committed/>
		</location>
		<location id="id25" x="-96" y="288">
			<name x="-208" y="280">wait_for_delta4</name>
			<label kind="invariant" x="-88" y="296">wait_clock4 &lt;= ndelay4</label>
		</location>
		<location id="id26" x="344" y="8">
			<name x="334" y="-22">notify_now4</name>
			<committed/>
		</location>
		<location id="id27" x="-96" y="376">
			<name x="-144" y="384">advancing_time4</name>
			<committed/>
		</location>
		<init ref="id23"/>
		<transition>
			<source ref="id23"/>
			<target ref="id24"/>
			<label kind="synchronisation" x="-224" y="24">notify?</label>
			<label kind="assignment" x="-224" y="40">ndelay4 = notify_t,
wait_clock4 = 0</label>
		</transition>
		<transition>
			<source ref="id23"/>
			<target ref="id26"/>
			<label kind="synchronisation" x="88" y="-8">notify_imm?</label>
			<nail x="-8" y="24"/>
			<nail x="248" y="24"/>
		</transition>
		<transition>
			<source ref="id24"/>
			<target ref="id25"/>
			<label kind="guard" x="-246" y="144">wait_clock4 + notify_t &lt; ndelay4</label>
			<label kind="assignment" x="-224" y="176">ndelay4 = notify_t,
wait_clock4= 0</label>
		</transition>
		<transition>
			<source ref="id24"/>
			<target ref="id25"/>
			<label kind="guard" x="-376" y="96">wait_clock4 + notify_t &gt;= ndelay4</label>
			<nail x="-312" y="136"/>
			<nail x="-312" y="240"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id24"/>
			<label kind="synchronisation" x="-32" y="136">notify?</label>
			<nail x="-32" y="224"/>
			<nail x="-32" y="144"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id26"/>
			<label kind="guard" x="96" y="184">ndelay4 == 0</label>
			<label kind="synchronisation" x="104" y="168">deltadelay?</label>
			<nail x="200" y="208"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id26"/>
			<label kind="guard" x="0" y="256">wait_clock4 == ndelay4 &amp;&amp; ndelay4!= 0</label>
			<label kind="synchronisation" x="160" y="272">advancetime!</label>
			<nail x="256" y="288"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id27"/>
			<label kind="guard" x="-224" y="296">ndelay4!= 0</label>
			<label kind="synchronisation" x="-232" y="312">advancetime?</label>
			<nail x="-136" y="336"/>
		</transition>
		<transition>
			<source ref="id25"/>
			<target ref="id26"/>
			<label kind="synchronisation" x="104" y="72">notify_imm?</label>
		</transition>
		<transition>
			<source ref="id26"/>
			<target ref="id23"/>
			<label kind="synchronisation" x="80" y="-88">wait!</label>
			<label kind="assignment" x="80" y="-72">wait_clock4 = 0,
ndelay4 = 0</label>
			<nail x="248" y="-24"/>
			<nail x="-8" y="-24"/>
		</transition>
		<transition>
			<source ref="id27"/>
			<target ref="id25"/>
			<label kind="guard" x="-88" y="312">wait_clock4 &lt; ndelay4</label>
		</transition>
		<transition>
			<source ref="id27"/>
			<target ref="id26"/>
			<label kind="guard" x="72" y="344">wait_clock4 == ndelay4</label>
			<nail x="336" y="384"/>
		</transition>
	</template>
	<template>
		<name>SCEventTemplate5</name>
		<parameter>broadcast chan &amp;wait, chan &amp;notify, chan &amp;notify_imm, int &amp;notify_t</parameter>
		<declaration>clock wait_clock5;
int ndelay5;
</declaration>
		<location id="id28" x="-96" y="0">
			<name x="-106" y="-30">init_event5</name>
		</location>
		<location id="id29" x="-96" y="120">
			<name x="-80" y="104">notify_requested5</name>
			<committed/>
		</location>
		<location id="id30" x="-96" y="288">
			<name x="-208" y="280">wait_for_delta5</name>
			<label kind="invariant" x="-88" y="296">wait_clock5 &lt;= ndelay5</label>
		</location>
		<location id="id31" x="344" y="8">
			<name x="334" y="-22">notify_now5</name>
			<committed/>
		</location>
		<location id="id32" x="-96" y="376">
			<name x="-144" y="382">advancing_time5</name>
			<committed/>
		</location>
		<init ref="id28"/>
		<transition>
			<source ref="id28"/>
			<target ref="id29"/>
			<label kind="synchronisation" x="-224" y="24">notify?</label>
			<label kind="assignment" x="-224" y="40">ndelay5 = notify_t,
wait_clock5 = 0</label>
		</transition>
		<transition>
			<source ref="id28"/>
			<target ref="id31"/>
			<label kind="synchronisation" x="88" y="-8">notify_imm?</label>
			<nail x="-8" y="24"/>
			<nail x="248" y="24"/>
		</transition>
		<transition>
			<source ref="id29"/>
			<target ref="id30"/>
			<label kind="guard" x="-246" y="144">wait_clock5 + notify_t &lt; ndelay5</label>
			<label kind="assignment" x="-221" y="178">ndelay5 = notify_t,
wait_clock5 = 0</label>
		</transition>
		<transition>
			<source ref="id29"/>
			<target ref="id30"/>
			<label kind="guard" x="-376" y="96">wait_clock5 + notify_t &gt;= ndelay5</label>
			<nail x="-312" y="136"/>
			<nail x="-312" y="240"/>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id29"/>
			<label kind="synchronisation" x="-32" y="136">notify?</label>
			<nail x="-32" y="224"/>
			<nail x="-32" y="144"/>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id31"/>
			<label kind="guard" x="96" y="184">ndelay5 == 0</label>
			<label kind="synchronisation" x="104" y="168">deltadelay?</label>
			<nail x="200" y="208"/>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id31"/>
			<label kind="guard" x="0" y="256">wait_clock5 == ndelay5 &amp;&amp; ndelay5!= 0</label>
			<label kind="synchronisation" x="160" y="272">advancetime!</label>
			<nail x="256" y="288"/>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id32"/>
			<label kind="guard" x="-224" y="296">ndelay5!= 0</label>
			<label kind="synchronisation" x="-232" y="312">advancetime?</label>
			<nail x="-136" y="336"/>
		</transition>
		<transition>
			<source ref="id30"/>
			<target ref="id31"/>
			<label kind="synchronisation" x="104" y="72">notify_imm?</label>
		</transition>
		<transition>
			<source ref="id31"/>
			<target ref="id28"/>
			<label kind="synchronisation" x="80" y="-88">wait!</label>
			<label kind="assignment" x="80" y="-72">wait_clock5 = 0,
ndelay5 = 0</label>
			<nail x="248" y="-24"/>
			<nail x="-8" y="-24"/>
		</transition>
		<transition>
			<source ref="id32"/>
			<target ref="id30"/>
			<label kind="guard" x="-88" y="312">wait_clock5 &lt; ndelay5</label>
		</transition>
		<transition>
			<source ref="id32"/>
			<target ref="id31"/>
			<label kind="guard" x="72" y="344">wait_clock5 == ndelay5</label>
			<nail x="336" y="384"/>
		</transition>
	</template>
	<template>
		<name>SchedulerTemplate</name>
		<location id="id33" x="520" y="-16">
			<name x="510" y="-46">execute</name>
			<urgent/>
		</location>
		<location id="id34" x="520" y="80">
			<name x="536" y="72">evaluate</name>
			<urgent/>
		</location>
		<location id="id35" x="520" y="232">
			<name x="536" y="208">update</name>
			<urgent/>
		</location>
		<location id="id36" x="184" y="232">
			<name x="152" y="248">nextdelta</name>
			<urgent/>
		</location>
		<location id="id37" x="184" y="80">
			<name x="128" y="48">time_progress</name>
		</location>
		<init ref="id34"/>
		<transition>
			<source ref="id33"/>
			<target ref="id34"/>
			<label kind="synchronisation" x="416" y="0">deactivate?</label>
			<nail x="496" y="32"/>
		</transition>
		<transition>
			<source ref="id34"/>
			<target ref="id33"/>
			<label kind="guard" x="552" y="0">readyprocs &gt; 0</label>
			<label kind="synchronisation" x="560" y="16">activate!</label>
			<nail x="544" y="32"/>
		</transition>
		<transition>
			<source ref="id34"/>
			<target ref="id35"/>
			<label kind="guard" x="528" y="112">readyprocs == 0</label>
		</transition>
		<transition>
			<source ref="id35"/>
			<target ref="id36"/>
			<label kind="guard" x="288" y="200">updaterequests == 0</label>
			<label kind="synchronisation" x="320" y="216">deltadelay!</label>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id37"/>
			<label kind="guard" x="64" y="128">readyprocs == 0</label>
		</transition>
		<transition>
			<source ref="id36"/>
			<target ref="id34"/>
			<label kind="guard" x="312" y="96">readyprocs &gt; 0</label>
		</transition>
		<transition>
			<source ref="id37"/>
			<target ref="id34"/>
			<label kind="synchronisation" x="312" y="48">advancetime?</label>
		</transition>
	</template>
	<template>
		<name>ThreadStarterTemplate</name>
		<parameter>chan &amp;ctrl</parameter>
		<location id="id38" x="8" y="-16">
			<name x="-59" y="-17">starter1</name>
			<urgent/>
		</location>
		<location id="id39" x="8" y="34">
			<name x="-68" y="19">starter2</name>
			<urgent/>
		</location>
		<location id="id40" x="8" y="96">
			<name x="-68" y="85">starter3</name>
		</location>
		<location id="id41" x="8" y="152">
			<name x="-68" y="144">starter4</name>
			<urgent/>
		</location>
		<location id="id42" x="8" y="224">
			<name x="-68" y="212">starter5</name>
		</location>
		<init ref="id38"/>
		<transition>
			<source ref="id38"/>
			<target ref="id39"/>
			<label kind="synchronisation" x="16" y="-16">activate?</label>
		</transition>
		<transition>
			<source ref="id39"/>
			<target ref="id40"/>
			<label kind="synchronisation" x="16" y="40">ctrl!</label>
		</transition>
		<transition>
			<source ref="id40"/>
			<target ref="id41"/>
			<label kind="synchronisation" x="16" y="96">ctrl?</label>
		</transition>
		<transition>
			<source ref="id41"/>
			<target ref="id42"/>
			<label kind="synchronisation" x="16" y="152">deactivate!</label>
			<label kind="assignment" x="16" y="168">readyprocs=readyprocs-1</label>
		</transition>
	</template>
	<template>
		<name>ThreadStarterTemplate1</name>
		<parameter>chan &amp;ctrl</parameter>
		<location id="id43" x="8" y="-16">
			<name x="-2" y="-50">starter11</name>
			<urgent/>
		</location>
		<location id="id44" x="8" y="40">
			<name x="-2" y="6">starter12</name>
			<urgent/>
		</location>
		<location id="id45" x="8" y="96">
			<name x="-2" y="62">starter13</name>
		</location>
		<location id="id46" x="8" y="152">
			<name x="-2" y="118">starter14</name>
			<urgent/>
		</location>
		<location id="id47" x="8" y="224">
			<name x="-2" y="190">starter15</name>
		</location>
		<init ref="id43"/>
		<transition>
			<source ref="id43"/>
			<target ref="id44"/>
			<label kind="synchronisation" x="16" y="-16">activate?</label>
		</transition>
		<transition>
			<source ref="id44"/>
			<target ref="id45"/>
			<label kind="synchronisation" x="16" y="40">ctrl!</label>
		</transition>
		<transition>
			<source ref="id45"/>
			<target ref="id46"/>
			<label kind="synchronisation" x="16" y="96">ctrl?</label>
		</transition>
		<transition>
			<source ref="id46"/>
			<target ref="id47"/>
			<label kind="synchronisation" x="16" y="152">deactivate!</label>
			<label kind="assignment" x="16" y="168">readyprocs=readyprocs-1</label>
		</transition>
	</template>
	<template>
		<name>ThreadStarterTemplate2</name>
		<parameter>chan &amp;ctrl</parameter>
		<location id="id48" x="8" y="-16">
			<name x="-2" y="-50">starter21</name>
			<urgent/>
		</location>
		<location id="id49" x="8" y="40">
			<name x="-2" y="6">starter22</name>
			<urgent/>
		</location>
		<location id="id50" x="8" y="96">
			<name x="-2" y="62">starter23</name>
		</location>
		<location id="id51" x="8" y="152">
			<name x="-2" y="118">starter24</name>
			<urgent/>
		</location>
		<location id="id52" x="8" y="224">
			<name x="-2" y="190">starter25</name>
		</location>
		<init ref="id48"/>
		<transition>
			<source ref="id48"/>
			<target ref="id49"/>
			<label kind="synchronisation" x="16" y="-16">activate?</label>
		</transition>
		<transition>
			<source ref="id49"/>
			<target ref="id50"/>
			<label kind="synchronisation" x="16" y="40">ctrl!</label>
		</transition>
		<transition>
			<source ref="id50"/>
			<target ref="id51"/>
			<label kind="synchronisation" x="16" y="96">ctrl?</label>
		</transition>
		<transition>
			<source ref="id51"/>
			<target ref="id52"/>
			<label kind="synchronisation" x="16" y="152">deactivate!</label>
			<label kind="assignment" x="16" y="168">readyprocs=readyprocs-1</label>
		</transition>
	</template>
	<template>
		<name>consumer_consume</name>
		<parameter>broadcast chan &amp;timeoutevent_wait, chan &amp;timeoutevent_notify, int &amp;timeoutevent_notify_t, chan &amp;consume_ctrl, int &amp;consume_param_c_param</parameter>
		<declaration>int c_param;
int wait_time;
</declaration>
		<location id="id53" x="192" y="-56">
			<name x="182" y="-86">mon_start1</name>
		</location>
		<location id="id54" x="190" y="80">
			<name x="119" y="68">mon1_1</name>
			<urgent/>
		</location>
		<location id="id55" x="190" y="230">
			<name x="119" y="229">mon2_1</name>
			<committed/>
		</location>
		<location id="id56" x="512" y="80">
			<name x="528" y="64">mon3_1</name>
			<urgent/>
		</location>
		<location id="id57" x="512" y="-56">
			<name x="501" y="-85">mon_end1</name>
			<urgent/>
		</location>
		<location id="id58" x="512" y="232">
			<name x="502" y="202">mon5_1</name>
		</location>
		<init ref="id53"/>
		<transition>
			<source ref="id53"/>
			<target ref="id54"/>
			<label kind="synchronisation" x="119" y="-17">consume_ctrl?</label>
		</transition>
		<transition>
			<source ref="id54"/>
			<target ref="id55"/>
			<label kind="synchronisation" x="192" y="112">deactivate!</label>
			<label kind="assignment" x="192" y="128">readyprocs=readyprocs-1</label>
		</transition>
		<transition>
			<source ref="id55"/>
			<target ref="id58"/>
			<label kind="synchronisation" x="208" y="200">timeoutevent_notify!</label>
		</transition>
		<transition>
			<source ref="id56"/>
			<target ref="id57"/>
			<label kind="synchronisation" x="520" y="-8">activate?</label>
		</transition>
		<transition>
			<source ref="id57"/>
			<target ref="id53"/>
			<label kind="synchronisation" x="289" y="-102">consume_ctrl!</label>
		</transition>
		<transition>
			<source ref="id58"/>
			<target ref="id56"/>
			<label kind="synchronisation" x="520" y="120">timeoutevent_wait?</label>
			<label kind="assignment" x="520" y="136">readyprocs=readyprocs+1</label>
		</transition>
	</template>
	<template>
		<name>consumer_main_method</name>
		<parameter>broadcast chan &amp;sensitive, chan &amp;fifo_read_ctrl, int &amp;fifo_read_return, chan &amp;consume_ctrl, int &amp;consume_param_c_param, chan &amp;main_method_ctrl</parameter>
		<declaration>int c;
</declaration>
		<location id="id59" x="40" y="-88">
			<name x="-40" y="-112">mon_start</name>
		</location>
		<location id="id60" x="40" y="0">
			<name x="48" y="-24">mon1</name>
			<urgent/>
		</location>
		<location id="id61" x="40" y="72">
			<name x="56" y="64">mon2</name>
			<urgent/>
		</location>
		<location id="id62" x="-96" y="0">
			<name x="-176" y="0">mon_end</name>
			<urgent/>
		</location>
		<location id="id63" x="40" y="160">
			<name x="56" y="152">mon4</name>
		</location>
		<location id="id64" x="40" y="240">
			<name x="56" y="232">mon5</name>
			<urgent/>
		</location>
		<location id="id65" x="40" y="304">
			<name x="56" y="296">mon6</name>
			<urgent/>
		</location>
		<location id="id66" x="40" y="368">
			<name x="56" y="360">mon7</name>
		</location>
		<location id="id67" x="40" y="440">
			<name x="56" y="432">mon8</name>
			<urgent/>
		</location>
		<location id="id68" x="40" y="520">
			<name x="56" y="504">mon9</name>
		</location>
		<init ref="id59"/>
		<transition>
			<source ref="id59"/>
			<target ref="id60"/>
			<label kind="synchronisation" x="48" y="-80">main_method_ctrl?</label>
		</transition>
		<transition>
			<source ref="id60"/>
			<target ref="id61"/>
			<label kind="guard" x="48" y="8">true</label>
		</transition>
		<transition>
			<source ref="id60"/>
			<target ref="id62"/>
			<label kind="guard" x="-48" y="-8">!(true)</label>
		</transition>
		<transition>
			<source ref="id61"/>
			<target ref="id63"/>
			<label kind="synchronisation" x="48" y="80">deactivate!</label>
			<label kind="assignment" x="48" y="96">readyprocs=readyprocs-1</label>
		</transition>
		<transition>
			<source ref="id62"/>
			<target ref="id59"/>
			<label kind="synchronisation" x="-152" y="-88">main_method_ctrl!</label>
		</transition>
		<transition>
			<source ref="id63"/>
			<target ref="id64"/>
			<label kind="synchronisation" x="48" y="168">sensitive?</label>
			<label kind="assignment" x="48" y="184">readyprocs=readyprocs+1</label>
		</transition>
		<transition>
			<source ref="id64"/>
			<target ref="id65"/>
			<label kind="synchronisation" x="48" y="248">activate?</label>
		</transition>
		<transition>
			<source ref="id65"/>
			<target ref="id66"/>
			<label kind="synchronisation" x="48" y="312">fifo_read_ctrl!</label>
		</transition>
		<transition>
			<source ref="id66"/>
			<target ref="id67"/>
			<label kind="synchronisation" x="55" y="365">fifo_read_ctrl?</label>
		</transition>
		<transition>
			<source ref="id67"/>
			<target ref="id68"/>
			<label kind="synchronisation" x="48" y="448">consume_ctrl!</label>
		</transition>
		<transition>
			<source ref="id68"/>
			<target ref="id60"/>
			<label kind="synchronisation" x="48" y="520">consume_ctrl?</label>
			<nail x="40" y="576"/>
			<nail x="336" y="576"/>
			<nail x="336" y="0"/>
		</transition>
	</template>
	<template>
		<name>consumer_thread0_sensitiveTemp</name>
		<parameter>broadcast chan &amp;sensitive, broadcast chan &amp;c_clock</parameter>
		<location id="id69" x="40" y="80">
			<name x="30" y="46">cons1</name>
		</location>
		<location id="id70" x="190" y="80">
			<name x="180" y="46">cons2</name>
			<committed/>
		</location>
		<init ref="id69"/>
		<transition>
			<source ref="id69"/>
			<target ref="id70"/>
			<label kind="synchronisation" x="88" y="16">c_clock?</label>
			<nail x="112" y="48"/>
		</transition>
		<transition>
			<source ref="id70"/>
			<target ref="id69"/>
			<label kind="synchronisation" x="88" y="104">sensitive!</label>
			<nail x="112" y="112"/>
		</transition>
	</template>
	<template>
		<name>myfifo_read</name>
		<parameter>int &amp;buffer[3], int &amp;n, int &amp;r_pos, broadcast chan &amp;w_event_wait, chan &amp;r_event_notify, chan &amp;r_event_notify_imm, chan &amp;read_ctrl, int &amp;read_return</parameter>
		<declaration>int c;
</declaration>
		<location id="id71" x="40" y="80">
			<name x="30" y="46">fifor1</name>
		</location>
		<location id="id72" x="40" y="160">
			<name x="30" y="126">fifor2</name>
			<urgent/>
		</location>
		<location id="id73" x="224" y="160">
			<name x="214" y="126">fifor6</name>
			<urgent/>
		</location>
		<location id="id74" x="224" y="256">
			<name x="214" y="222">fifor7</name>
		</location>
		<location id="id75" x="224" y="368">
			<name x="214" y="334">fifor8</name>
			<urgent/>
		</location>
		<location id="id76" x="40" y="368">
			<name x="30" y="334">fifor3</name>
			<urgent/>
		</location>
		<location id="id77" x="40" y="536">
			<name x="30" y="502">fifor5</name>
			<urgent/>
		</location>
		<init ref="id71"/>
		<transition>
			<source ref="id71"/>
			<target ref="id72"/>
			<label kind="synchronisation" x="48" y="88">read_ctrl?</label>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id73"/>
			<label kind="guard" x="80" y="128">(n) == (0)</label>
		</transition>
		<transition>
			<source ref="id72"/>
			<target ref="id76"/>
			<label kind="guard" x="-48" y="176">!((n) == (0))</label>
		</transition>
		<transition>
			<source ref="id73"/>
			<target ref="id74"/>
			<label kind="synchronisation" x="232" y="168">deactivate!</label>
			<label kind="assignment" x="232" y="184">readyprocs=readyprocs-1</label>
		</transition>
		<transition>
			<source ref="id74"/>
			<target ref="id75"/>
			<label kind="synchronisation" x="232" y="264">w_event_wait?</label>
			<label kind="assignment" x="232" y="280">readyprocs=readyprocs+1</label>
		</transition>
		<transition>
			<source ref="id75"/>
			<target ref="id76"/>
			<label kind="synchronisation" x="112" y="336">activate?</label>
		</transition>
		<transition>
			<source ref="id76"/>
			<target ref="id77"/>
			<label kind="assignment" x="48" y="392">n = (n) - (1)</label>
		</transition>
		<transition>
			<source ref="id77"/>
			<target ref="id71"/>
			<label kind="synchronisation" x="-152" y="280">read_ctrl!</label>
			<nail x="-160" y="536"/>
			<nail x="-160" y="80"/>
		</transition>
	</template>
	<template>
		<name>myfifo_write</name>
		<parameter>int &amp;buffer[3], int &amp;n, int &amp;w_pos, chan &amp;w_event_notify, chan &amp;w_event_notify_imm, broadcast chan &amp;r_event_wait, chan &amp;write_ctrl, int &amp;write_param_c</parameter>
		<declaration>int c;
</declaration>
		<location id="id78" x="48" y="0">
			<name x="38" y="-34">fifow1</name>
		</location>
		<location id="id79" x="48" y="80">
			<name x="59" y="51">fifow2</name>
			<urgent/>
		</location>
		<location id="id80" x="304" y="80">
			<name x="294" y="46">fifow6</name>
			<urgent/>
		</location>
		<location id="id81" x="304" y="200">
			<name x="314" y="170">fifow7</name>
		</location>
		<location id="id82" x="304" y="272">
			<name x="314" y="246">fifow8</name>
			<urgent/>
		</location>
		<location id="id83" x="48" y="272">
			<name x="59" y="238">fifow3</name>
			<urgent/>
		</location>
		<location id="id84" x="48" y="488">
			<name x="59" y="459">fifow5</name>
			<urgent/>
		</location>
		<init ref="id78"/>
		<transition>
			<source ref="id78"/>
			<target ref="id79"/>
			<label kind="synchronisation" x="56" y="8">write_ctrl?</label>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id80"/>
			<label kind="guard" x="136" y="48">(n) == (3)</label>
		</transition>
		<transition>
			<source ref="id79"/>
			<target ref="id83"/>
			<label kind="guard" x="-40" y="96">!((n) == (3))</label>
		</transition>
		<transition>
			<source ref="id80"/>
			<target ref="id81"/>
			<label kind="synchronisation" x="312" y="104">deactivate!</label>
			<label kind="assignment" x="312" y="120">readyprocs=readyprocs-1</label>
		</transition>
		<transition>
			<source ref="id81"/>
			<target ref="id82"/>
			<label kind="synchronisation" x="312" y="200">r_event_wait?</label>
			<label kind="assignment" x="312" y="216">readyprocs=readyprocs+1</label>
		</transition>
		<transition>
			<source ref="id82"/>
			<target ref="id83"/>
			<label kind="synchronisation" x="144" y="240">activate?</label>
		</transition>
		<transition>
			<source ref="id83"/>
			<target ref="id84"/>
			<label kind="assignment" x="56" y="304">n = (n) + (1)</label>
		</transition>
		<transition>
			<source ref="id84"/>
			<target ref="id78"/>
			<label kind="synchronisation" x="-104" y="296">write_ctrl!</label>
			<nail x="-120" y="488"/>
			<nail x="-120" y="0"/>
		</transition>
	</template>
	<template>
		<name>producer_main_method</name>
		<parameter>broadcast chan &amp;sensitive, chan &amp;fifo_write_ctrl, int &amp;fifo_write_param_c, chan &amp;produce_ctrl, int &amp;produce_param_c_param, int &amp;produce_return, chan &amp;main_method_ctrl</parameter>
		<declaration>int c;
</declaration>
		<location id="id85" x="40" y="8">
			<name x="30" y="-22">tc_start</name>
		</location>
		<location id="id86" x="40" y="96">
			<name x="48" y="72">tc1</name>
			<urgent/>
		</location>
		<location id="id87" x="40" y="168">
			<name x="56" y="160">tc2</name>
			<urgent/>
		</location>
		<location id="id88" x="-152" y="96">
			<name x="-162" y="66">tc_end</name>
			<urgent/>
		</location>
		<location id="id89" x="40" y="240">
			<name x="56" y="224">tc4</name>
		</location>
		<location id="id90" x="40" y="312">
			<name x="54" y="298">tc5</name>
			<urgent/>
		</location>
		<location id="id91" x="40" y="384">
			<name x="56" y="368">tc6</name>
			<urgent/>
		</location>
		<location id="id92" x="40" y="456">
			<name x="56" y="440">tc7</name>
		</location>
		<location id="id93" x="40" y="560">
			<name x="56" y="544">tc8</name>
			<urgent/>
		</location>
		<location id="id94" x="40" y="640">
			<name x="56" y="632">tc9</name>
		</location>
		<init ref="id85"/>
		<transition>
			<source ref="id85"/>
			<target ref="id86"/>
			<label kind="synchronisation" x="48" y="16">main_method_ctrl?</label>
		</transition>
		<transition>
			<source ref="id86"/>
			<target ref="id87"/>
			<label kind="guard" x="48" y="104">true</label>
		</transition>
		<transition>
			<source ref="id86"/>
			<target ref="id88"/>
			<label kind="guard" x="-64" y="64">!(true)</label>
		</transition>
		<transition>
			<source ref="id87"/>
			<target ref="id89"/>
			<label kind="synchronisation" x="48" y="168">deactivate!</label>
			<label kind="assignment" x="48" y="184">readyprocs=readyprocs-1</label>
		</transition>
		<transition>
			<source ref="id88"/>
			<target ref="id85"/>
			<label kind="synchronisation" x="-136" y="-8">main_method_ctrl!</label>
		</transition>
		<transition>
			<source ref="id89"/>
			<target ref="id90"/>
			<label kind="synchronisation" x="48" y="240">sensitive?</label>
			<label kind="assignment" x="48" y="256">readyprocs=readyprocs+1</label>
		</transition>
		<transition>
			<source ref="id90"/>
			<target ref="id91"/>
			<label kind="synchronisation" x="48" y="320">activate?</label>
		</transition>
		<transition>
			<source ref="id91"/>
			<target ref="id92"/>
			<label kind="synchronisation" x="48" y="384">produce_ctrl!</label>
		</transition>
		<transition>
			<source ref="id92"/>
			<target ref="id93"/>
			<label kind="synchronisation" x="48" y="456">produce_ctrl?</label>
		</transition>
		<transition>
			<source ref="id93"/>
			<target ref="id94"/>
			<label kind="synchronisation" x="48" y="568">fifo_write_ctrl!</label>
		</transition>
		<transition>
			<source ref="id94"/>
			<target ref="id86"/>
			<label kind="synchronisation" x="48" y="648">fifo_write_ctrl?</label>
			<nail x="40" y="712"/>
			<nail x="360" y="712"/>
			<nail x="352" y="96"/>
		</transition>
	</template>
	<template>
		<name>producer_produce</name>
		<parameter>broadcast chan &amp;timeoutevent_wait, chan &amp;timeoutevent_notify, int &amp;timeoutevent_notify_t, chan &amp;produce_ctrl, int &amp;produce_param_c_param, int &amp;produce_return</parameter>
		<declaration>int c_param;
int wait_time;
</declaration>
		<location id="id95" x="48" y="-24">
			<name x="38" y="-54">tc_start</name>
		</location>
		<location id="id96" x="48" y="72">
			<name x="64" y="64">tc1</name>
			<urgent/>
		</location>
		<location id="id97" x="48" y="160">
			<name x="64" y="152">tc2</name>
			<committed/>
		</location>
		<location id="id98" x="48" y="344">
			<name x="64" y="344">tc3</name>
			<urgent/>
		</location>
		<location id="id99" x="48" y="256">
			<name x="64" y="248">tc4</name>
		</location>
		<location id="id100" x="48" y="424">
			<name x="64" y="416">tc_end</name>
			<urgent/>
		</location>
		<init ref="id95"/>
		<transition>
			<source ref="id95"/>
			<target ref="id96"/>
			<label kind="synchronisation" x="56" y="-16">produce_ctrl?</label>
		</transition>
		<transition>
			<source ref="id96"/>
			<target ref="id97"/>
			<label kind="synchronisation" x="56" y="80">deactivate!</label>
			<label kind="assignment" x="56" y="96">readyprocs=readyprocs-1</label>
		</transition>
		<transition>
			<source ref="id97"/>
			<target ref="id99"/>
			<label kind="synchronisation" x="56" y="168">timeoutevent_notify!</label>
		</transition>
		<transition>
			<source ref="id98"/>
			<target ref="id100"/>
			<label kind="synchronisation" x="56" y="352">activate?</label>
		</transition>
		<transition>
			<source ref="id99"/>
			<target ref="id98"/>
			<label kind="synchronisation" x="56" y="264">timeoutevent_wait?</label>
			<label kind="assignment" x="56" y="280">readyprocs=readyprocs+1</label>
		</transition>
		<transition>
			<source ref="id100"/>
			<target ref="id95"/>
			<label kind="synchronisation" x="56" y="424">produce_ctrl!</label>
			<nail x="48" y="504"/>
			<nail x="352" y="504"/>
			<nail x="352" y="-24"/>
		</transition>
	</template>
	<template>
		<name>producer_thread0_sensitiveTemp</name>
		<parameter>broadcast chan &amp;sensitive, broadcast chan &amp;p_clock</parameter>
		<location id="id101" x="40" y="80">
			<name x="30" y="46">prod1</name>
		</location>
		<location id="id102" x="190" y="80">
			<name x="180" y="46">prod2</name>
			<committed/>
		</location>
		<init ref="id101"/>
		<transition>
			<source ref="id101"/>
			<target ref="id102"/>
			<label kind="synchronisation" x="88" y="0">p_clock?</label>
			<nail x="120" y="32"/>
		</transition>
		<transition>
			<source ref="id102"/>
			<target ref="id101"/>
			<label kind="synchronisation" x="88" y="120">sensitive!</label>
			<nail x="112" y="128"/>
		</transition>
	</template>
	<template>
		<name>sc_clock_run</name>
		<parameter>broadcast chan &amp;timeoutevent_wait, chan &amp;timeoutevent_notify, int &amp;timeoutevent_notify_t, chan &amp;edge_notify, int &amp;edge_notify_t, int &amp;period, chan &amp;run_ctrl</parameter>
		<declaration>int tmp;
</declaration>
		<location id="id103" x="56" y="8">
			<name x="46" y="-26">scclk1</name>
		</location>
		<location id="id104" x="56" y="200">
			<name x="76" y="187">scclk3</name>
			<urgent/>
		</location>
		<location id="id105" x="56" y="272">
			<name x="76" y="255">scclk4</name>
			<urgent/>
		</location>
		<location id="id106" x="-128" y="200">
			<name x="-187" y="187">scclk9</name>
			<urgent/>
		</location>
		<location id="id107" x="56" y="344">
			<name x="76" y="323">scclk5</name>
			<committed/>
		</location>
		<location id="id108" x="56" y="504">
			<name x="76" y="493">scclk7</name>
			<urgent/>
		</location>
		<location id="id109" x="56" y="424">
			<name x="76" y="408">scclk6</name>
		</location>
		<init ref="id103"/>
		<transition>
			<source ref="id103"/>
			<target ref="id104"/>
			<label kind="synchronisation" x="59" y="68">run_ctrl?</label>
		</transition>
		<transition>
			<source ref="id104"/>
			<target ref="id105"/>
			<label kind="guard" x="59" y="221">true</label>
		</transition>
		<transition>
			<source ref="id104"/>
			<target ref="id106"/>
			<label kind="guard" x="-51" y="170">!(true)</label>
		</transition>
		<transition>
			<source ref="id105"/>
			<target ref="id107"/>
			<label kind="synchronisation" x="72" y="282">deactivate!</label>
			<label kind="assignment" x="68" y="297">readyprocs=readyprocs-1</label>
		</transition>
		<transition>
			<source ref="id106"/>
			<target ref="id103"/>
			<label kind="synchronisation" x="-102" y="85">run_ctrl!</label>
		</transition>
		<transition>
			<source ref="id107"/>
			<target ref="id109"/>
			<label kind="synchronisation" x="59" y="365">timeoutevent_notify!</label>
		</transition>
		<transition>
			<source ref="id108"/>
			<target ref="id104"/>
			<label kind="synchronisation" x="-85" y="314">activate?</label>
			<nail x="-42" y="365"/>
		</transition>
		<transition>
			<source ref="id109"/>
			<target ref="id108"/>
			<label kind="synchronisation" x="68" y="435">timeoutevent_wait?</label>
			<label kind="assignment" x="68" y="450">readyprocs=readyprocs+1</label>
		</transition>
	</template>
	<template>
		<name>sc_clock_thread0_sensitiveTemp</name>
		<parameter>broadcast chan &amp;sensitive</parameter>
		<location id="id110" x="40" y="80">
			<name x="30" y="46">sc1</name>
		</location>
		<location id="id111" x="190" y="80">
			<name x="180" y="46">sc2</name>
			<committed/>
		</location>
		<init ref="id111"/>
		<transition>
			<source ref="id111"/>
			<target ref="id110"/>
			<label kind="synchronisation" x="85" y="59">sensitive!</label>
			<nail x="112" y="80"/>
		</transition>
	</template>
	<system>
clk_edge = SCEventTemplate(clk_edge_wait, clk_edge_notify, clk_edge_notify_imm, clk_edge_notify_t);
clk_thread0_sc_clock_run = sc_clock_run(clk_thread0_timeoutevent_wait, clk_thread0_timeoutevent_notify, clk_thread0_timeoutevent_notify_t, clk_edge_notify, clk_edge_notify_t, clk_period, clk_thread0_run_ctrl);
clk_thread0_sensitive = sc_clock_thread0_sensitiveTemp(clk_thread0_sensitivechan);
clk_thread0_starter = ThreadStarterTemplate(clk_thread0_run_ctrl);
clk_thread0_timeoutevent = SCEventTemplate1(clk_thread0_timeoutevent_wait, clk_thread0_timeoutevent_notify, clk_thread0_timeoutevent_notify_imm, clk_thread0_timeoutevent_notify_t);
cons_inst_thread0_consumer_consume = consumer_consume(cons_inst_thread0_timeoutevent_wait, cons_inst_thread0_timeoutevent_notify, cons_inst_thread0_timeoutevent_notify_t, cons_inst_thread0_consume_ctrl, cons_inst_thread0_consume_param_c_param);
cons_inst_thread0_consumer_main_method = consumer_main_method(cons_inst_thread0_sensitivechan, cons_inst_thread0_fifo_read_ctrl, cons_inst_thread0_fifo_read_return, cons_inst_thread0_consume_ctrl, cons_inst_thread0_consume_param_c_param, cons_inst_thread0_main_method_ctrl);
cons_inst_thread0_fifo_myfifo_read = myfifo_read(fifo_inst_buffer, fifo_inst_n, fifo_inst_r_pos, fifo_inst_w_event_wait, fifo_inst_r_event_notify, fifo_inst_r_event_notify_imm, cons_inst_thread0_fifo_read_ctrl, cons_inst_thread0_fifo_read_return);
cons_inst_thread0_sensitive = consumer_thread0_sensitiveTemp(cons_inst_thread0_sensitivechan, clk_edge_wait);
cons_inst_thread0_starter = ThreadStarterTemplate1(cons_inst_thread0_main_method_ctrl);
cons_inst_thread0_timeoutevent = SCEventTemplate2(cons_inst_thread0_timeoutevent_wait, cons_inst_thread0_timeoutevent_notify, cons_inst_thread0_timeoutevent_notify_imm, cons_inst_thread0_timeoutevent_notify_t);
fifo_inst_r_event = SCEventTemplate3(fifo_inst_r_event_wait, fifo_inst_r_event_notify, fifo_inst_r_event_notify_imm, fifo_inst_r_event_notify_t);
fifo_inst_w_event = SCEventTemplate4(fifo_inst_w_event_wait, fifo_inst_w_event_notify, fifo_inst_w_event_notify_imm, fifo_inst_w_event_notify_t);
initialization = InitializerTemplate();
prod_inst_thread0_fifo_myfifo_write = myfifo_write(fifo_inst_buffer, fifo_inst_n, fifo_inst_w_pos, fifo_inst_w_event_notify, fifo_inst_w_event_notify_imm, fifo_inst_r_event_wait, prod_inst_thread0_fifo_write_ctrl, prod_inst_thread0_fifo_write_param_c);
prod_inst_thread0_producer_main_method = producer_main_method(prod_inst_thread0_sensitivechan, prod_inst_thread0_fifo_write_ctrl, prod_inst_thread0_fifo_write_param_c, prod_inst_thread0_produce_ctrl, prod_inst_thread0_produce_param_c_param, prod_inst_thread0_produce_return, prod_inst_thread0_main_method_ctrl);
prod_inst_thread0_producer_produce = producer_produce(prod_inst_thread0_timeoutevent_wait, prod_inst_thread0_timeoutevent_notify, prod_inst_thread0_timeoutevent_notify_t, prod_inst_thread0_produce_ctrl, prod_inst_thread0_produce_param_c_param, prod_inst_thread0_produce_return);
prod_inst_thread0_sensitive = producer_thread0_sensitiveTemp(prod_inst_thread0_sensitivechan, clk_edge_wait);
prod_inst_thread0_starter = ThreadStarterTemplate2(prod_inst_thread0_main_method_ctrl);
prod_inst_thread0_timeoutevent = SCEventTemplate5(prod_inst_thread0_timeoutevent_wait, prod_inst_thread0_timeoutevent_notify, prod_inst_thread0_timeoutevent_notify_imm, prod_inst_thread0_timeoutevent_notify_t);
scheduler = SchedulerTemplate();


system clk_edge,
clk_thread0_sc_clock_run,
clk_thread0_sensitive,
clk_thread0_starter,
clk_thread0_timeoutevent,
cons_inst_thread0_consumer_consume,
cons_inst_thread0_consumer_main_method,
cons_inst_thread0_fifo_myfifo_read,
cons_inst_thread0_sensitive,
cons_inst_thread0_starter,
cons_inst_thread0_timeoutevent,
fifo_inst_r_event,
fifo_inst_w_event,
initialization,
prod_inst_thread0_fifo_myfifo_write,
prod_inst_thread0_producer_main_method,
prod_inst_thread0_producer_produce,
prod_inst_thread0_sensitive,
prod_inst_thread0_starter,
prod_inst_thread0_timeoutevent,
scheduler;</system>
	<queries>
		<query>
			<formula>A[] scheduler.update imply readyprocs==0
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>cons_inst_thread0_consumer_consume.mon_start1 --&gt; cons_inst_thread0_consumer_consume.mon_end1
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>E&lt;&gt;  cons_inst_thread0_consumer_consume.mon_end1
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>scheduler.evaluate --&gt; scheduler.execute
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>scheduler.evaluate --&gt; clk_edge.notify_requested
			</formula>
			<comment>
			</comment>
		</query>
		<query>
			<formula>A[] (scheduler.evaluate imply (not scheduler.execute))
			</formula>
			<comment>
			</comment>
		</query>
	</queries>
</nta>
